---
# NodePort Services for Traefik routing
# pochama (Traefik) → k8s NodePort → Pod

# Home Assistant (bracky:30123)
apiVersion: v1
kind: Service
metadata:
  name: home-assistant-nodeport
  namespace: apps
spec:
  type: NodePort
  selector:
    app: home-assistant
  ports:
    - port: 8123
      targetPort: 8123
      nodePort: 30123
---
# Shlink (bracky:30080)
apiVersion: v1
kind: Service
metadata:
  name: shlink-nodeport
  namespace: apps
spec:
  type: NodePort
  selector:
    app: shlink
  ports:
    - port: 8080
      targetPort: 8080
      nodePort: 30080
---
# Grafana (metamon:30300)
apiVersion: v1
kind: Service
metadata:
  name: grafana-nodeport
  namespace: monitoring
spec:
  type: NodePort
  selector:
    app: grafana
  ports:
    - port: 3000
      targetPort: 3000
      nodePort: 30300
---
# Prometheus (metamon:30090) - internal access
apiVersion: v1
kind: Service
metadata:
  name: prometheus-nodeport
  namespace: monitoring
spec:
  type: NodePort
  selector:
    app: prometheus
  ports:
    - port: 9090
      targetPort: 9090
      nodePort: 30090
---
# Docmost (metamon:30301)
apiVersion: v1
kind: Service
metadata:
  name: docmost-nodeport
  namespace: devops
spec:
  type: NodePort
  selector:
    app: docmost
  ports:
    - port: 3000
      targetPort: 3000
      nodePort: 30301
---
# Registry (metamon:30500)
apiVersion: v1
kind: Service
metadata:
  name: registry-nodeport
  namespace: registry
spec:
  type: NodePort
  selector:
    app: registry
  ports:
    - port: 5000
      targetPort: 5000
      nodePort: 30500
---
# Loki (metamon:30100) - internal access
apiVersion: v1
kind: Service
metadata:
  name: loki-nodeport
  namespace: monitoring
spec:
  type: NodePort
  selector:
    app: loki
  ports:
    - port: 3100
      targetPort: 3100
      nodePort: 30100
